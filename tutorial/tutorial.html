<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorial Pembuatan Sistem POS Apotek</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 20px;
        }
        
        h2 {
            color: #34495e;
            background: #ecf0f1;
            padding: 10px;
            border-left: 4px solid #3498db;
            margin-top: 30px;
        }
        
        h3 {
            color: #2c3e50;
            margin-top: 25px;
        }
        
        .step {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .step-number {
            background: #3498db;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        
        code {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            display: block;
            margin: 10px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
        }
        
        .highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .warning {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background: #3498db;
            color: white;
        }
        
        .file-structure {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            .container {
                box-shadow: none;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìö Tutorial Pembuatan Sistem POS Apotek</h1>
        <p style="text-align: center; color: #7f8c8d; font-style: italic;">
            Panduan Lengkap Membuat Sistem Point of Sale untuk Apotek dengan PHP PDO
        </p>
        
        <h2>üìã Daftar Isi</h2>
        <ol>
            <li><a href="#persiapan">Persiapan dan Setup Environment</a></li>
            <li><a href="#database">Perancangan Database</a></li>
            <li><a href="#struktur">Struktur Folder dan File</a></li>
            <li><a href="#konfigurasi">Konfigurasi Database dan Koneksi</a></li>
            <li><a href="#models">Pembuatan Models</a></li>
            <li><a href="#autentikasi">Sistem Login dan Autentikasi</a></li>
            <li><a href="#dashboard">Dashboard dan Interface</a></li>
            <li><a href="#crud">Implementasi CRUD</a></li>
            <li><a href="#pos">Sistem POS Kasir</a></li>
            <li><a href="#laporan">Laporan dan Stok</a></li>
            <li><a href="#testing">Testing dan Deployment</a></li>
        </ol>

        <h2 id="persiapan">1. üõ†Ô∏è Persiapan dan Setup Environment</h2>
        
        <div class="step">
            <h3><span class="step-number">1</span>Instalasi Software</h3>
            <p>Pastikan software berikut sudah terinstall:</p>
            <ul>
                <li><strong>XAMPP</strong> - Web server (Apache + MySQL + PHP)</li>
                <li><strong>Text Editor</strong> - VS Code, Sublime Text, atau Notepad++</li>
                <li><strong>Browser</strong> - Chrome, Firefox, atau Edge</li>
            </ul>
            
            <div class="highlight">
                <strong>üí° Tips:</strong> Download XAMPP dari https://www.apachefriends.org/
            </div>
        </div>

        <div class="step">
            <h3><span class="step-number">2</span>Setup Project Folder</h3>
            <p>Buat folder project di direktori XAMPP:</p>
            <code>D:\xampp81\htdocs\pos_apotek\</code>
            
            <div class="warning">
                <strong>‚ö†Ô∏è Perhatian:</strong> Pastikan XAMPP sudah running (Apache dan MySQL)
            </div>
        </div>

        <h2 id="database">2. üóÑÔ∏è Perancangan Database</h2>
        
        <div class="step">
            <h3><span class="step-number">3</span>Analisis Kebutuhan</h3>
            <p>Sistem POS Apotek membutuhkan tabel berikut:</p>
            <table>
                <tr>
                    <th>Tabel</th>
                    <th>Fungsi</th>
                    <th>Relasi</th>
                </tr>
                <tr>
                    <td>users</td>
                    <td>Data pengguna (admin, kasir, gudang)</td>
                    <td>Referensi ke penjualan, pembelian</td>
                </tr>
                <tr>
                    <td>kategori_obat</td>
                    <td>Kategori obat</td>
                    <td>One-to-many dengan obat</td>
                </tr>
                <tr>
                    <td>obat</td>
                    <td>Data obat dan stok</td>
                    <td>Many-to-one dengan kategori</td>
                </tr>
                <tr>
                    <td>supplier</td>
                    <td>Data pemasok obat</td>
                    <td>One-to-many dengan pembelian</td>
                </tr>
                <tr>
                    <td>penjualan</td>
                    <td>Transaksi penjualan</td>
                    <td>Many-to-one dengan user</td>
                </tr>
                <tr>
                    <td>detail_penjualan</td>
                    <td>Detail item penjualan</td>
                    <td>Many-to-one dengan penjualan, obat</td>
                </tr>
            </table>
        </div>

        <div class="step">
            <h3><span class="step-number">4</span>Buat Database Schema</h3>
            <p>Buat file <code>database/schema.sql</code>:</p>
            <code>
-- Database schema untuk Sistem POS Apotek
CREATE DATABASE IF NOT EXISTS pos_apotek;
USE pos_apotek;

-- Tabel Users
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    nama_lengkap VARCHAR(100) NOT NULL,
    email VARCHAR(100),
    role ENUM('admin', 'kasir', 'gudang') NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Insert data default
INSERT INTO users (username, password, nama_lengkap, email, role) VALUES
('admin', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'Administrator', 'admin@apotek.com', 'admin');
            </code>
        </div>

        <h2 id="struktur">3. üìÅ Struktur Folder dan File</h2>
        
        <div class="step">
            <h3><span class="step-number">5</span>Buat Struktur Folder</h3>
            <div class="file-structure">
pos_apotek/
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îî‚îÄ‚îÄ css/
‚îÇ       ‚îî‚îÄ‚îÄ style.css
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ config.php
‚îÇ   ‚îî‚îÄ‚îÄ database.php
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îî‚îÄ‚îÄ schema.sql
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ User.php
‚îÇ   ‚îú‚îÄ‚îÄ Obat.php
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ index.php
‚îú‚îÄ‚îÄ login.php
‚îú‚îÄ‚îÄ dashboard.php
‚îî‚îÄ‚îÄ ...
            </div>
        </div>

        <h2 id="konfigurasi">4. ‚öôÔ∏è Konfigurasi Database dan Koneksi</h2>
        
        <div class="step">
            <h3><span class="step-number">6</span>File Konfigurasi Database</h3>
            <p>Buat file <code>config/database.php</code>:</p>
            <code>
&lt;?php
class Database {
    private $host = 'localhost';
    private $db_name = 'pos_apotek';
    private $username = 'root';
    private $password = '';
    private $conn;

    public function getConnection() {
        $this->conn = null;
        
        try {
            $this->conn = new PDO(
                "mysql:host=" . $this->host . ";dbname=" . $this->db_name,
                $this->username,
                $this->password,
                array(PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION)
            );
            $this->conn->exec("set names utf8");
        } catch(PDOException $exception) {
            echo "Connection error: " . $exception->getMessage();
        }
        
        return $this->conn;
    }
}
?&gt;
            </code>
        </div>

        <div class="step">
            <h3><span class="step-number">7</span>File Konfigurasi Utama</h3>
            <p>Buat file <code>config/config.php</code>:</p>
            <code>
&lt;?php
// Konfigurasi umum aplikasi
define('BASE_URL', 'http://localhost/pos_apotek/');
define('APP_NAME', 'Sistem POS Apotek');

session_start();

// Helper functions
function isLoggedIn() {
    return isset($_SESSION['user_id']) && isset($_SESSION['user_role']);
}

function requireLogin() {
    if (!isLoggedIn()) {
        header('Location: login.php');
        exit();
    }
}

function formatCurrency($amount) {
    return 'Rp ' . number_format($amount, 0, ',', '.');
}
?&gt;
            </code>
        </div>

        <h2 id="models">5. üèóÔ∏è Pembuatan Models</h2>
        
        <div class="step">
            <h3><span class="step-number">8</span>Model User</h3>
            <p>Buat file <code>models/User.php</code>:</p>
            <code>
&lt;?php
class User {
    private $conn;
    private $table_name = "users";

    public $id;
    public $username;
    public $password;
    public $nama_lengkap;
    public $role;

    public function __construct($db) {
        $this->conn = $db;
    }

    public function login($username, $password) {
        $query = "SELECT id, username, password, nama_lengkap, role 
                  FROM " . $this->table_name . " 
                  WHERE username = :username";

        $stmt = $this->conn->prepare($query);
        $stmt->bindParam(':username', $username);
        $stmt->execute();

        if ($stmt->rowCount() > 0) {
            $row = $stmt->fetch(PDO::FETCH_ASSOC);
            
            if (password_verify($password, $row['password'])) {
                $this->id = $row['id'];
                $this->username = $row['username'];
                $this->nama_lengkap = $row['nama_lengkap'];
                $this->role = $row['role'];
                return true;
            }
        }
        return false;
    }
}
?&gt;
            </code>
        </div>

        <h2 id="autentikasi">6. üîê Sistem Login dan Autentikasi</h2>
        
        <div class="step">
            <h3><span class="step-number">9</span>Halaman Login</h3>
            <p>Buat file <code>login.php</code>:</p>
            <code>
&lt;?php
require_once 'config/config.php';

$error_message = '';

if ($_POST) {
    $username = sanitizeInput($_POST['username']);
    $password = $_POST['password'];

    if (!empty($username) && !empty($password)) {
        $database = new Database();
        $db = $database->getConnection();
        
        $user = new User($db);
        
        if ($user->login($username, $password)) {
            $_SESSION['user_id'] = $user->id;
            $_SESSION['username'] = $user->username;
            $_SESSION['nama_lengkap'] = $user->nama_lengkap;
            $_SESSION['user_role'] = $user->role;
            
            header('Location: dashboard.php');
            exit();
        } else {
            $error_message = 'Username atau password salah!';
        }
    }
}
?&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Login - &lt;?php echo APP_NAME; ?&gt;&lt;/title&gt;
    &lt;link rel="stylesheet" href="assets/css/style.css"&gt;
&lt;/head&gt;
&lt;body class="login-page"&gt;
    &lt;div class="login-container"&gt;
        &lt;div class="login-box"&gt;
            &lt;h1&gt;&lt;?php echo APP_NAME; ?&gt;&lt;/h1&gt;
            
            &lt;?php if ($error_message): ?&gt;
                &lt;div class="alert alert-error"&gt;
                    &lt;?php echo $error_message; ?&gt;
                &lt;/div&gt;
            &lt;?php endif; ?&gt;

            &lt;form method="POST"&gt;
                &lt;div class="form-group"&gt;
                    &lt;label&gt;Username&lt;/label&gt;
                    &lt;input type="text" name="username" required&gt;
                &lt;/div&gt;
                &lt;div class="form-group"&gt;
                    &lt;label&gt;Password&lt;/label&gt;
                    &lt;input type="password" name="password" required&gt;
                &lt;/div&gt;
                &lt;button type="submit"&gt;Login&lt;/button&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
            </code>
        </div>

        <h2 id="dashboard">7. üìä Dashboard dan Interface</h2>
        
        <div class="step">
            <h3><span class="step-number">10</span>CSS Styling</h3>
            <p>Buat file <code>assets/css/style.css</code>:</p>
            <code>
/* Reset dan Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: #333;
    background-color: #f5f5f5;
}

/* Login Page */
.login-page {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
}

.login-container {
    width: 100%;
    max-width: 400px;
}

.login-box {
    background: white;
    border-radius: 10px;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    padding: 40px;
}

/* Button Styles */
.btn {
    display: inline-block;
    padding: 12px 24px;
    border: none;
    border-radius: 5px;
    text-decoration: none;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
}
            </code>
        </div>

        <div class="step">
            <h3><span class="step-number">11</span>Dashboard Layout</h3>
            <p>Buat file <code>dashboard.php</code> dengan struktur:</p>
            <ul>
                <li>Sidebar navigation berdasarkan role</li>
                <li>Top navigation dengan user info</li>
                <li>Dashboard cards dengan statistik</li>
                <li>Recent activities table</li>
            </ul>
            
            <div class="success">
                <strong>‚úÖ Tips:</strong> Gunakan grid layout untuk dashboard cards dan responsive design
            </div>
        </div>

        <h2 id="crud">8. üìù Implementasi CRUD</h2>
        
        <div class="step">
            <h3><span class="step-number">12</span>CRUD Obat</h3>
            <p>Langkah-langkah membuat CRUD:</p>
            <ol>
                <li>Buat model Obat dengan method CRUD</li>
                <li>Buat halaman obat.php dengan form input</li>
                <li>Implementasi AJAX untuk edit modal</li>
                <li>Validasi input dan error handling</li>
            </ol>
        </div>

        <h2 id="pos">9. üõí Sistem POS Kasir</h2>
        
        <div class="step">
            <h3><span class="step-number">13</span>Interface POS</h3>
            <p>Fitur POS yang perlu dibuat:</p>
            <ul>
                <li>Search obat real-time</li>
                <li>Keranjang belanja interaktif</li>
                <li>Perhitungan total dan PPN</li>
                <li>Input pembayaran dan kembalian</li>
                <li>Cetak struk otomatis</li>
            </ul>
        </div>

        <h2 id="laporan">10. üìà Laporan dan Stok</h2>
        
        <div class="step">
            <h3><span class="step-number">14</span>Manajemen Stok</h3>
            <p>Implementasi fitur stok:</p>
            <ul>
                <li>Alert stok minimum</li>
                <li>Filter obat expired</li>
                <li>Penyesuaian stok manual</li>
                <li>Laporan pembelian</li>
            </ul>
        </div>

        <h2 id="testing">11. üß™ Testing dan Deployment</h2>
        
        <div class="step">
            <h3><span class="step-number">15</span>Testing</h3>
            <ol>
                <li>Test login dengan semua role</li>
                <li>Test CRUD operations</li>
                <li>Test POS transaction</li>
                <li>Test print struk</li>
                <li>Test responsive design</li>
            </ol>
        </div>

        <div class="step">
            <h3><span class="step-number">16</span>Deployment</h3>
            <p>Langkah deployment:</p>
            <ol>
                <li>Upload files ke web server</li>
                <li>Import database</li>
                <li>Update konfigurasi database</li>
                <li>Test di production</li>
            </ol>
        </div>

        <div class="success">
            <h2>üéâ Selamat!</h2>
            <p>Anda telah berhasil membuat sistem POS Apotek lengkap dengan:</p>
            <ul>
                <li>‚úÖ Multi-role authentication</li>
                <li>‚úÖ Modern responsive UI</li>
                <li>‚úÖ Real-time POS system</li>
                <li>‚úÖ Complete CRUD operations</li>
                <li>‚úÖ Stock management</li>
                <li>‚úÖ Reporting system</li>
            </ul>
        </div>

        <div class="highlight">
            <h3>üìö Referensi Tambahan</h3>
            <ul>
                <li>PHP PDO Documentation</li>
                <li>MySQL Best Practices</li>
                <li>CSS Grid and Flexbox</li>
                <li>JavaScript ES6+ Features</li>
                <li>Security Best Practices</li>
            </ul>
        </div>

        <hr>
        <p style="text-align: center; color: #7f8c8d;">
            <small>Tutorial dibuat untuk pembelajaran sistem POS Apotek | ¬© 2024</small>
        </p>
    </div>
</body>
</html>
